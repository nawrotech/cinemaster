{% extends 'base.html.twig' %}

{% block title %}Available movies{% endblock %}

{% block stylesheets %}
{{ parent() }}
    <link href=" https://cdn.jsdelivr.net/npm/dropzone@6.0.0-beta.2/dist/dropzone.min.css " rel="stylesheet">
{% endblock %}

{% block body %}
    {{ include("partials/_search_input.html.twig", {
        action_route: "",
        query_value: app.request.get("q"),
        name: "q",
    }) }}
  
    <a href="{{ path('app_movie_select_movies', {slug: app.current_route_parameters.slug}) }}" class="link">Add more movie</a>

    <div class="grid-container">
     
      {% for movie in pager %}

        <div class="card" style="width: 18rem;">
            <div class="image-container">
                <img src="{{ asset(movie.posterPath, "uploads_url") }}" class="card-img-top" alt="{{ movie.title ~ "post-image" }}">
            </div>
                <div class="card-body">
                    <h5 class="card-title">{{ movie.title }}</h5>
                    <p class="card-text text-truncate">{{ movie.overview }}</p>
            
                        {{ include("partials/movie/_add_movie_screening_formats.html.twig") }}

                        {% if (movie.id not in scheduledMovieIds and movie.movieReferences is empty) %}
                            {{ include("partials/movie/_movie_update_form.html.twig") }}
                        {% endif %}

                        {{ include("partials/movie/_modal_ajax_reference_list.html.twig") }}
                
                </div>
                    
                   
                
        </div>
          
      {% endfor %}
    </div>



{{ pagerfanta(pager, "twitter_bootstrap5") }}


{% endblock %}

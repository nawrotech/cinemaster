{% extends 'base.html.twig' %}

{% block title %}Cinemas{% endblock %}

{% block body %}


    {% if cinemas is empty %}
        <a href="{{ path("app_cinema_create") }}">Look like you haven't created cinema yet, let's change that!</a>
    {% endif %}
    

    {% for cinema in cinemas %}
        <a class="btn btn-primary" href="{{ path("app_movie_create", {slug: cinema.slug}) }}">
            Create movie
        </a>
        <a class="btn btn-info" href="{{ path("app_movie_select_movies", {slug: cinema.slug}) }}">
            Add movies
        </a>

        <a href="{{ path("app_cinema_working_hours", {slug: cinema.slug}) }}">Add working hours</a>
        <div class="card">
            <h2>{{ cinema.name }}</h2>
            <p>Screening rooms: {{ cinema.screeningRooms|length }}</p>


            {% if is_granted("ROLE_ADMIN") %}
                <a href="{{path("app_cinema_details", {slug: cinema.slug})}}" class="btn btn-primary">
                    Show details
                </a>
                <a class="btn btn-secondary" href="{{path("app_screening_room_create", {slug: cinema.slug})}}">
                    Create screening room
                </a>
                <a class="btn btn-outline-secondary" href="{{path("app_screening_room", {slug: cinema.slug})}}">Show cinema's screening rooms</a>
            
                <a class="btn btn-outline-danger" href="{{path("app_showtime", {slug: cinema.slug})}}">Show scheduled showtimes</a>
                
                {% if cinema.screeningRoomSetups is empty %}
                    <a class="btn btn-info" href="{{path("app_screening_room_create_types", {slug: cinema.slug})}}">Create screening room type</a>
                {% endif %}
                
                {% if cinema.screeningFormats is empty %}    
                    <a class="btn btn-warning" href="{{path("app_movie_create_screening_formats", {slug: cinema.slug})}}">Create screening formats</a>
                {% endif %}
                
                
                {# <a class="btn btn-outline-warning" href="{{path("app_movie", {slug: cinema.slug})}}">Add movies to the cinema</a> #}
                
                <a class="btn btn-secondary" href="{{ path("app_movie_available_movies", {slug: cinema.slug}) }}">Available movies</a>

            {% endif %}
            

            <a class="btn btn-outline-info" href="{{ path("app_main_cinema_showtimes", {slug: cinema.slug }) }}">Show published showtimes</a>
        </div>
        
    {% endfor %}

{% endblock %}

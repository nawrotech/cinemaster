{% extends 'base.html.twig' %}

{% block title %}Cinemas{% endblock %}

{% block body %}


    <a class="btn btn-primary" href="{{ path("app_movie_create") }}">
        Create movies
    </a>

    {% if cinemas is empty %}
        <a href="{{ path("app_cinema_create") }}">Look like you haven't created cinema yet, let's change that!</a>
    {% endif %}
    

    {% for cinema in cinemas %}
        <div class="card">
            <h2>{{ cinema.name }}</h2>
            <p>Screening rooms: {{ cinema.screeningRooms|length }}</p>


            {% if is_granted("ROLE_ADMIN") %}
                <a href="{{path("app_cinema_create", {slug: cinema.slug})}}" class="btn btn-primary">
                    Edit
                </a>
                <a class="btn btn-secondary" href="{{path("app_screening_room_create", {slug: cinema.slug})}}">
                    Create screening room
                </a>
                <a class="btn btn-outline-secondary" href="{{path("app_screening_room", {slug: cinema.slug})}}">Show cinema's screening rooms</a>
            
                <a class="btn btn-outline-danger" href="{{path("app_showtime", {slug: cinema.slug})}}">Show scheduled showtimes</a>
                
                <a class="btn btn-info" href="{{path("app_screening_room_create_types", {slug: cinema.slug})}}">Create type</a>
            {% endif %}
            

            <a class="btn btn-outline-info" href="{{ path("app_main", {slug: cinema.slug }) }}">Show published showtimes</a>
        </div>
        
    {% endfor %}

{% endblock %}
